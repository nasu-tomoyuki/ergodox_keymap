# My Keymap for ErgoDox EZ

## コンセプト

このキーマップのコンセプトは以下の通りです。

* Mac の US キーボードに対して違和感のない配列
  * 通常のキーボードと同じ側の手に配置
  * 効率を上げることよりも通常のキーボードと併用できることを優先
* Layer0 Basic Layer (default) は主に入力用
* Layer1 Code Layer は主にファンクションキーと記号
* Layer2 Navigation Layer は主に移動用
* Layer3 System Layer は特殊用途
* 親指でレイヤーキーを押している間だけ切り替える
  * つまり <kbd><kbd>Fn</kbd> + <kbd>Any</kbd></kbd> のような感覚
  * ステートを持たず、常に Layer0 にいるので現在のレイヤーを意識する必要がない
* 左右の <kbd>Gui</kbd> キーによる日本語入力の切り替え


## 特徴

* マウスキーのカーソルを長押しで加速
* LED で状態表示
  * R:マウスの加速度、G:キー入力、B:モディファイア


## レイアウト

```
/* Keymap 0: Basic layer
 *
 * ,--------------------------------------------------.           ,--------------------------------------------------.
 * |  Esc~  |   1  |   2  |   3  |   4  |   5  |   6  |           |   5  |   6  |   7  |   8  |   9  |   0  |   BS   |
 * |--------+------+------+------+------+------+------|           |------+------+------+------+------+------+--------|
 * |   Tab  |   Q  |   W  |   E  |   R  |   T  | Home |           | PgUp |   Y  |   U  |   I  |   O  |   P  |    \   |
 * |--------+------+------+------+------+------|      |           |      |------+------+------+------+------+--------|
 * |  LCtl  |A/LCtl|   S  |   D  |   F  |   G  |------|           |------|   H  |   J  |   K  |   L  |;/RCtl|    '   |
 * |--------+------+------+------+------+------|  End |           | PgDn |------+------+------+------+------+--------|
 * |  LSft  |   Z  |   X  |   C  |   V  |   B  |      |           |      |   N  |   M  |   ,  |   .  |   /  |  RSft  |
 * `--------+------+------+------+------+-------------'           `-------------+------+------+------+------+--------'
 *   | ~LSys|      |      | ~LNav| LSft |                                       |~LCode| ~LNav|      |      |      |
 *   `----------------------------------'                                       `----------------------------------'
 *                                        ,-------------.       ,-------------.
 *                                        |      |      |       |      |      |
 *                                 ,------+------+------|       |------+------+------.
 *                                 |      |      |      |       |      |      |      |
 *                                 | Space| 英数 |------|       |------| かな | Enter|
 *                                 |      | /LGui|App/Alt|      | RAlt | /RGui|      |
 *                                 `--------------------'       `--------------------'
 */
```

* 省スペース化のためとレイアウトを崩さないように、左上のキーに <kbd>Esc</kbd> <kbd>~</kbd> <kbd>\`</kbd> をまとめています。修飾キーとの組み合わせで以下のようになります。

| 修飾キー | 出力 |
| :-: | :-: |
| なし | <kbd>Esc</kbd> |
| <kbd>Shift</kbd> | <kbd>~</kbd> |
| <kbd>~LNav</kbd> | <kbd>\`</kbd> |

* 左右小指位置を長押しで <kbd>Ctrl</kbd>。
* <kbd>Gui</kbd> のタップで <kbd>かな</kbd>/</kbd>英数</kbd> を切り替え、長押しで <kbd>Gui</kbd>
* <kbd>App/Alt</kbd> は、タップで <kbd>Application(Win)</kbd> 長押しで <kbd>Alt</kbd>
* <kbd>~LCode</kbd> を押している間は Code レイヤーへ
* <kbd>~LNav</kbd> を押している間は Navigation レイヤーへ
* <kbd>~LSys</kbd> を押している間は System レイヤーへ

* OS によってキーの名称が変わります

|キー | Mac | Win |
| :-: | :-: | :-: |
| Gui | Command | Win |
| Alt | Option | Alt |



```
/* Keymap 1: Code Layer
 *
 * ,--------------------------------------------------.           ,--------------------------------------------------.
 * |    `   |  F1  |  F2  |  F3  |  F4  |  F5  |  F6  |           |  F5  |  F6  |  F7  |  F8  |  F9  |  F10 |   Del  |
 * |--------+------+------+------+------+------+------|           |------+------+------+------+------+------+--------|
 * |        |  F11 |  F12 |  F13 |  F14 |  F15 |      |           |      |      |   {  |   }  |   _  |   +  |        |
 * |--------+------+------+------+------+------|      |           |      |------+------+------+------+------+--------|
 * |        |      |      |      |      |      |------|           |------|      |   [  |   ]  |   -  |   =  |        |
 * |--------+------+------+------+------+------|      |           |      |------+------+------+------+------+--------|
 * |        |      |      |      |      |      |      |           |      |      |      |      |      |      |        |
 * `--------+------+------+------+------+-------------'           `-------------+------+------+------+------+--------'
 *   |      |      |      |      |      |                                       |      |      |      |      |      |
 *   `----------------------------------'                                       `----------------------------------'
 *                                        ,-------------.       ,-------------.
 *                                        |      |      |       |      |      |
 *                                 ,------+------+------|       |------+------+------.
 *                                 |      |      |      |       |      |      |      |
 *                                 |      |      |------|       |------|      |      |
 *                                 |      |      |      |       |      |      |      |
 *                                 `--------------------'       `--------------------'
 */
```

 * ファンクションキーと幾つかの記号を割り当てています。


```
/* Keymap 2: Navigation Layer
 *
 * ,--------------------------------------------------.           ,--------------------------------------------------.
 * |        |  F1  |  F2  |  F3  |  F4  |  F5  |  F6  |           |  F5  |  F6  |  F7  |  F8  |  F9  |  F10 |   Del  |
 * |--------+------+------+------+------+------+------|           |------+------+------+------+------+------+--------|
 * |        |      |      |  MsU |      |      |      |           |      |      |      |  Up  |      |      |        |
 * |--------+------+------+------+------+------|      |           |      |------+------+------+------+------+--------|
 * |        | BtnL |  MsL |  MsD |  MsR | BtnR |------|           |------|      | Left | Down | Right|      |        |
 * |--------+------+------+------+------+------|      |           |      |------+------+------+------+------+--------|
 * |        |  WhD |  WhU |  WhR |  WhL |      |      |           |      |      |      |      |      |      |        |
 * `--------+------+------+------+------+-------------'           `-------------+------+------+------+------+--------'
 *   |      |      |      |      |      |                                       |      |      |      |      |      |
 *   `----------------------------------'                                       `----------------------------------'
 *                                        ,-------------.       ,-------------.
 *                                        |      |      |       |      |      |
 *                                 ,------+------+------|       |------+------+------.
 *                                 |      |      |      |       |      |      |      |
 *                                 |      |      |------|       |------|      |      |
 *                                 |      |      |      |       |      |      |      |
 *                                 `--------------------'       `--------------------'
  */
```

 * 方向キーやマウスキーを割り当てています。
  * <kbd>Ms?</kbd> マウスカーソルを移動
  * <kbd>Wh?</kbd> ホイールを上下左右へ移動


```
/* Keymap 3: System Layer
 *
 * ,--------------------------------------------------.           ,--------------------------------------------------.
 * | Version|      |      |      |      |      |      |           |      |      |      |      |      |      |        |
 * |--------+------+------+------+------+------+------|           |------+------+------+------+------+------+--------|
 * |        |      |      |      |      |      |      |           |      |      |      |      |      |      |        |
 * |--------+------+------+------+------+------|      |           |      |------+------+------+------+------+--------|
 * |        |      |      |      |      |      |------|           |------|      |      |      |      |      |        |
 * |--------+------+------+------+------+------|      |           |      |------+------+------+------+------+--------|
 * |  Reset |      |      |      |      |      |      |           |      |      |      |      |      |      |        |
 * `--------+------+------+------+------+-------------'           `-------------+------+------+------+------+--------'
 *   |      |      |      |      |      |                                       |      |      |      |      |      |
 *   `----------------------------------'                                       `----------------------------------'
 *                                        ,-------------.       ,-------------.
 *                                        |      |      |       | Power|      |
 *                                 ,------+------+------|       |------+------+------.
 *                                 |      |      |      |       |      |      |      |
 *                                 |      |      |------|       |------|      |      |
 *                                 |      |      |      |       |      |      |      |
 *                                 `--------------------'       `--------------------'
 */
```

* Reset はファームウェアの書き換え用です。


## 準備例

1. [qmk_firmware](https://github.com/qmk/qmk_firmware) を git clone する
1. 当リポジトリを keyboards/ergodox_ez/keymaps/my_keymap へ git clone する


## ビルド例

```
$ cd qmk_firmware
$ vagrant up
$ vagrant ssh
$ cd vagrant
$ make ergodox_ez:my_keymap
```

これで ergodox_ez_my_keymap.hex が出来上がります。


## 開発環境

* Macbook Pro
  * macOS Catalina
* ErgoDox EZ





